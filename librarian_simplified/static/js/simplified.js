// Generated by CoffeeScript 1.10.0
(function(window, $, templates) {
  var content, mainContainer, onFrameLoad, placeholder, readerFrame, setup;
  mainContainer = $('#main-container');
  readerFrame = null;
  content = null;
  placeholder = null;
  onFrameLoad = function() {
    var body, doc, patched;
    doc = readerFrame.contents();
    body = doc.find('body');
    patched = body.html().replace(placeholder, content);
    return body.html(patched);
  };
  setup = function() {
    readerFrame = $('#views-reader-frame');
    if (!readerFrame.length) {
      setTimeout(setup, 200);
      return;
    }
    content = readerFrame.data('content');
    placeholder = readerFrame.data('placeholder');
    readerFrame.on('load', onFrameLoad);
    if ((readerFrame.contents().prop('readyState')) === 'complete') {
      return onFrameLoad();
    }
  };
  return setup();
})(this, this.jQuery, this.templates);
